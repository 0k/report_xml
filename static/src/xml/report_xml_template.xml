<?xml version="1.0" encoding="UTF-8"?>
<!-- vim:fdl=1:
-->
<templates id="template" xml:space="preserve">

  <t t-name="FieldReportXMLTemplate">

    <div>
        <t t-if="!widget.get('effective_readonly')">
          <div class="oe_edit_only">
            <div class="report_xml_select_objects">
              <h4 class='select_preview_title open'>Select Preview Objects</h4>
              <div class="report_xml_select_objects_area" />
            </div>
          </div>
        </t>

      <div t-attf-class="oe_report_xml_split oe_form_field oe_form_field_text oe_form_field_report_xml #{widget.get('effective_readonly')?'report_xml_read_only':'report_xml_edit'}" t-att-style="widget.node.attrs.style">

        <div class="report_xml_edit ace_editor">
          <div class="report_xml_edit_ace_editor" />

          <textarea rows="6"
                    t-att-name="widget.name"
                    class="field_text"
                    t-att-readonly="widget.get('effective_readonly')"
                    t-att-tabindex="widget.node.attrs.tabindex"
                    t-att-autofocus="widget.node.attrs.autofocus"
                    t-att-placeholder="! widget.get('effective_readonly') ? widget.node.attrs.placeholder : ''"
                    t-att-maxlength="widget.field.size"
                    ></textarea><img class="oe_field_translate oe_input_icon"
                    t-if="widget.field.translate and !widget.get('effective_readonly')"
                    t-att-src='_s + "/web/static/src/img/icons/terp-translate.png"'
                    width="16"
                    height="16"
                    border="0"
                    />
        </div>

        <t t-if="!widget.get('effective_readonly')">

          <div class="oe_preview_pane oe_edit_only">

            <div class="oe_form_field_html oe_form_field_rst2html_readonly oe_form_field_preview">
            </div>
            <div class="oe_form_field_html no_preview_message">
            </div>
          </div>

        </t>
      </div>
    </div>
  </t>

  <t t-name="FieldTextRst2HtmlReadOnly">
    <div class="oe_form_field_html oe_form_field_rst2html_readonly"
         t-att-style="widget.node.attrs.style">
    </div>
  </t>

  <t t-name="ReportError">
    <table cellspacing="0" cellpadding="0" border="0" class="oe_dialog_warning">
      <tr>
        <td class="oe_dialog_icon"><img t-att-src='_s + "/web/static/src/img/warning.png"'/></td>
        <td>
          <t t-js="d">
            var message = d.message ? d.message : d.error.data.message;
            var debug = d.error.data.debug ? d.error.data.debug : "";
            d.html_error = context.engine.tools.html_escape($.trim(message));
            d.html_debug = context.engine.tools.html_escape($.trim(debug));
          </t>
          <pre><t t-raw="html_error"/></pre>
          <t t-if="html_debug">
            <h3>Debug Information</h3>
            <pre><t t-raw="html_debug"/></pre>
          </t>
        </td>
      </tr>
    </table>
  </t>

</templates>
